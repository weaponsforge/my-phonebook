(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{7572:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return a(6531)}])},866:function(e,r,a){"use strict";a.d(r,{Z:function(){return o}});var s=a(4924),t=a(2686);class o{}(0,s.Z)(o,"config",{createUserWithEmailAndPassword:t.Xb,signInWithEmailAndPassword:t.e5}),(0,s.Z)(o,"signUp",async(e,r)=>{try{let a=await o.config.createUserWithEmailAndPassword(t.I8,e,r),s=a.user;return s}catch(a){let e=a.code,r=a.message;return{errorCode:e,errorMessage:r}}}),(0,s.Z)(o,"signIn",async(e,r)=>{try{let a=await o.config.signInWithEmailAndPassword(t.I8,e,r),s=a.user;return s}catch(a){let e=a.code,r=a.message;return{errorCode:e,errorMessage:r}}})},2686:function(e,r,a){"use strict";a.d(r,{I8:function(){return l},Xb:function(){return n.Xb},e5:function(){return n.e5}});var s=a(3977),t=a(9828),o=a(6650),n=a(1259);let i=0===(0,s.C6)().length?(0,s.ZF)({apiKey:"AizaSyD5gcCSnmkFYyxs6ZiDmUUT46dKATMcWLs",authDomain:"myphonebook-app.firebaseapp.com",projectId:"myphonebook-app",storageBucket:"myphonebook-app.appspot.com",messagingSenderId:"235351276644",appId:"1:235351276644:web:3cc1a2a58884f7fb82b371",measurementId:"G-SGHS2JFLEM"}):(0,s.C6)()[0];(0,t.ad)(i),(0,o.cF)(i);let l=(0,n.v0)(i)},6531:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return A}});var s=a(4924),t=a(5893),o=a(3025),n=a(629),i=a(3321),l=a(5861),d=a(7036),c=a(2012),u=a(6341),p=a(3787),g=a(5697),x=a.n(g),m=a(1664),f=a.n(m),h=a(2443);let w=e=>{let{state:r,eventsHandler:a}=e,s=(0,h.u)(),{joke:g,username:x,password:m,passwordConfirmation:w,errorMessage:v,successMessage:Z,loading:b}=r,{usernameHandler:y,passwordHandler:T,passwordConfirmationHandler:j,registerHandler:C,resetError:S}=a;return(0,t.jsx)(o.Z,{children:(0,t.jsxs)(n.Z,{sx:{display:"flex",flexWrap:"wrap",gap:"10px",alignItems:"center",justifyContent:"center",flex:1,background:"inherit",flexWrap:"wrap-reverse"},children:[(0,t.jsxs)(l.Z,{variant:"h8",component:"h3",gutterBottom:!0,sx:{color:e=>e.palette.text.disabled,textAlign:"center",paddingLeft:"20px",paddingRight:"20px",width:"50vw"},children:["`",g&&g.joke,"`"]}),(0,t.jsxs)(n.Z,{elevation:0,sx:{display:"grid",gridTemplateColumns:"1fr 20px",gridTemplateAreas:'"username icon1"\n            "password icon2"\n            "passwordConfirmation icon3"\n            "register ."\n            "login ."',alignItems:"stretch",gap:"10px",minWidth:"300px",width:"500px",borderRadius:"30px",padding:"40px",background:"inherit"},children:[(0,t.jsx)(p.Z,{sx:{gridArea:"username"},label:"Username (email)",id:"username",size:"small",type:"text",fullwidth:"true",required:!0,disabled:b,color:x.color,helperText:x.helperText,value:x.value,error:x.error,onInput:y}),!x.error&&(0,t.jsx)(d.Z,{fontSize:"large",color:"success",sx:{gridArea:"icon1"}}),(0,t.jsx)(p.Z,{sx:{gridArea:"password"},label:"Password",id:"userPassword",size:"small",type:"password",fullwidth:"true",required:!0,disabled:b,value:m.value,error:m.error,color:m.color,helperText:m.helperText,onInput:T}),!m.error&&(0,t.jsx)(d.Z,{fontSize:"large",color:"success",sx:{gridArea:"icon2"}}),(0,t.jsx)(p.Z,{sx:{gridArea:"passwordConfirmation"},label:"Password confirmation",id:"userPasswordConfirmation",size:"small",type:"password",fullwidth:"true",required:!0,disabled:b,value:w.value,error:w.error,color:w.color,helperText:w.helperText,onInput:j}),!w.error&&(0,t.jsx)(d.Z,{fontSize:"large",color:"success",sx:{gridArea:"icon3"}}),r.username.error||r.password.error||r.passwordConfirmation.error?(0,t.jsx)(i.Z,{disabled:!0,variant:"contained",sx:{gridArea:"register",fontWeight:"bold",color:e=>e.palette.primary.contrastText},onClick:C,children:"REGISTER"}):(0,t.jsx)(u.Z,{variant:"contained",sx:{gridArea:"register",fontWeight:"bold",color:e=>e.palette.primary.contrastText},isloading:b,handleClick:C,label:"REGISTER"}),(0,t.jsx)(f(),{href:"/login",style:{gridArea:"login"},children:(0,t.jsx)(l.Z,{sx:{fontSize:"12px",textAlign:"center",marginTop:"-5px",color:s.palette.text.primary},children:"Already have an account? Login instead."})}),(v||Z)&&(0,t.jsx)(c.Z,{message:v||Z,closeHandler:S})]})]})})};w.propTypes={state:x().object,eventsHandler:x().func};var v=a(891),Z=a(7294),b=a(5323),y=a(866),T=a(7797),j=a(771);let C={joke:void 0,username:{error:!0,helperText:" ",value:"",color:"text"},password:{error:!0,helperText:" ",value:"",color:"text"},passwordConfirmation:{error:!0,helperText:" ",value:"",color:"text"},errorMessage:void 0,successMessage:"",loading:!1},S=()=>{let[e,r]=(0,Z.useState)(C),{username:a,password:o,passwordConfirmation:n}=e;(0,Z.useEffect)(()=>{(async()=>{let e=await (0,v.n)();r(r=>({...r,joke:e}))})()},[]);class i{}return(0,s.Z)(i,"usernameHandler",e=>{let{helperText:a,error:s,color:t}=b.Q.email(e.target.value);r(r=>({...r,username:{...r.username,value:e.target.value,error:s,helperText:a,color:t}}))}),(0,s.Z)(i,"passwordHandler",e=>{let{helperText:a,error:s,color:t}=b.Q.password(e.target.value);r(r=>({...r,password:{...r.password,value:e.target.value,error:s,helperText:a,color:t}}))}),(0,s.Z)(i,"passwordConfirmationHandler",e=>{let{helperText:a,error:s,color:t}=b.Q.passwordConfirmation(o,e.target.value);r(r=>({...r,passwordConfirmation:{...r.passwordConfirmation,value:e.target.value,error:s,helperText:a,color:t}}))}),(0,s.Z)(i,"registerHandler",()=>{let e=!a.error&&!o.error&&!n.error;e&&(async()=>{r(e=>({...e,loading:!0,errorMessage:void 0,successMessage:""}));let e=await y.Z.signUp(a.value,o.value),s=e.errorMessage,t=j.Z.STATUS.SUCCESS;if(void 0===s){let{error:e,status:r}=await j.Z.wrap((0,T.w$)(a.value));s=""===e?void 0:e,t=r}r(e=>({...e,loading:!1,errorMessage:s,successMessage:t===j.Z.STATUS.SUCCESS?"Email sent. Please check your email.":""}))})()}),(0,s.Z)(i,"resetError",()=>{r({...e,errorMessage:"",successMessage:""})}),(0,t.jsx)(w,{state:e,eventsHandler:i})};var A=S}},function(e){e.O(0,[16,278,937,441,616,280,626,25,197,774,888,179],function(){return e(e.s=7572)}),_N_E=e.O()}]);