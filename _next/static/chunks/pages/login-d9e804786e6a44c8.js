(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{2070:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(6962)}])},2012:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var a=t(5893),n=t(7294),i=t(9397),l=t(9820),s=t(4799),o=t(594);function c(e){let{message:r,closeHandler:t}=e,[c,u]=(0,n.useState)(!0),d=(e,r)=>{"clickaway"!==r&&(u(!1),t&&t())},p=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{color:"secondary",size:"small",onClick:d,children:"UNDO"}),(0,a.jsx)(s.Z,{size:"small","aria-label":"close",color:"inherit",onClick:d,children:(0,a.jsx)(o.Z,{fontSize:"small"})})]});return(0,a.jsx)("div",{children:(0,a.jsx)(l.Z,{open:c,autoHideDuration:6e3,onClose:d,message:r,action:p})})}},6341:function(e,r,t){"use strict";var a=t(5893),n=t(5697),i=t.n(n),l=t(9397),s=t(6489),o=t(3367);function c(e){let{label:r="",variant:t="contained",isloading:n=!1,disabled:i=!1,sx:c={},handleClick:u}=e,d=(0,o.e6)("activeTheme");return(0,a.jsx)(l.Z,{sx:c,variant:t,disabled:n||i,onClick:u,children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:n?(0,a.jsx)(s.Z,{size:24,color:"light"===d?"dark":"primary"}):(0,a.jsx)("span",{children:r})})})}c.propTypes={label:i().string,variant:i().string,isloading:i().bool,disabled:i().bool,handleClick:i().func,sx:i().object},r.Z=c},3787:function(e,r,t){"use strict";var a=t(5893),n=t(2715),i=t(948);let l=(0,i.ZP)(e=>(0,a.jsx)(n.Z,{...e}))(e=>{let{theme:r}=e;return{"& .MuiInputBase-root":{"& input":{backgroundClip:"text !important"}},"& .MuiOutlinedInput-input":{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px transparent inset"}}}});r.Z=l},891:function(e,r,t){"use strict";t.d(r,{n:function(){return a}});let a=async()=>{try{let e=await fetch("https://v2.jokeapi.dev/joke/Misc?format=json&safe-mode&type=single"),r=await e.json();return r}catch(e){}}},866:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var a=t(4924),n=t(9751);class i{}(0,a.Z)(i,"config",{createUserWithEmailAndPassword:n.Xb,signInWithEmailAndPassword:n.e5}),(0,a.Z)(i,"signUp",async(e,r)=>{try{let t=await i.config.createUserWithEmailAndPassword(n.I8,e,r),a=t.user;return a}catch(t){let e=t.code,r=t.message;return{errorCode:e,errorMessage:r}}}),(0,a.Z)(i,"signIn",async(e,r)=>{try{let t=await i.config.signInWithEmailAndPassword(n.I8,e,r),a=t.user;return a}catch(t){let e=t.code,r=t.message;return{errorCode:e,errorMessage:r}}})},5323:function(e,r,t){"use strict";t.d(r,{Q:function(){return h}});var a=t(2037),n=t(4924),i=t(7297);function l(){let e=(0,i.Z)(["(?<uppercase>[A-Z])"]);return l=function(){return e},e}function s(){let e=(0,i.Z)(["(?<lowercase>[a-z])"]);return s=function(){return e},e}function o(){let e=(0,i.Z)(["(?<number>[0-9])"]);return o=function(){return e},e}function c(){let e=(0,i.Z)(["(?<symbol>[-#?!@$ %^&*())])"]);return c=function(){return e},e}function u(){let e=(0,i.Z)(["(?<prohibitedCharacters>[-a-zA-Z0-9#?!@$ %^&*()]+)"]);return u=function(){return e},e}function d(){let e=(0,i.Z)(["(?<emailPrefix>^[^@]+)"]);return d=function(){return e},e}function p(){let e=(0,i.Z)(["(?<atSymbol>@)"]);return p=function(){return e},e}function g(){let e=(0,i.Z)(["(?<domain>[^@]+$)"]);return g=function(){return e},e}class h{}(0,n.Z)(h,"email",e=>{let r=(0,a.Z)(h,h,b).call(h,e),t=(0,a.Z)(h,h,j).call(h,e),n=(0,a.Z)(h,h,y).call(h,e),i=!r||!t||!n,l=(0,a.Z)(h,h,k).call(h,i,r,t,n);return{error:i,helperText:l,color:i?"error":"success"}}),(0,n.Z)(h,"password",e=>{let r=(0,a.Z)(h,h,x).call(h,e),t=(0,a.Z)(h,h,f).call(h,e),n=(0,a.Z)(h,h,m).call(h,e),i=(0,a.Z)(h,h,w).call(h,e),l=(0,a.Z)(h,h,v).call(h,e),s=(0,a.Z)(h,h,Z).call(h,e),o=!r||!t||!n||!i||!l||s,c=(0,a.Z)(h,h,E).call(h,o,r,t,n,i,l,s);return{error:o,helperText:c,color:o?"error":"success"}}),(0,n.Z)(h,"passwordConfirmation",(e,r)=>{if(e.error)return{error:!0,helperText:"Check : invalid password",color:"error"};let t=e.value!==r;return{error:t,helperText:t?"Check : password missmatch":"Valid",color:t?"error":"success"}});var x={writable:!0,value:e=>{let r=e.length>=8&&e.length<=30;return r}},f={writable:!0,value:e=>{let r=!!e.match(RegExp(String.raw(l())));return r}},m={writable:!0,value:e=>{let r=!!e.match(RegExp(String.raw(s())));return r}},w={writable:!0,value:e=>{let r=!!e.match(RegExp(String.raw(o())));return r}},v={writable:!0,value:e=>{let r=!!e.match(RegExp(String.raw(c())));return r}},Z={writable:!0,value:e=>{let r=e.replace(RegExp(String.raw(u()),"g"),"");return""!==r&&[...r].join(" ")}},b={writable:!0,value:e=>{let r=!!e.match(RegExp(String.raw(d())));return r}},j={writable:!0,value:e=>{let r=!!e.match(RegExp(String.raw(p())));return r}},y={writable:!0,value:e=>{let r=!!e.match(RegExp(String.raw(g())));return r}},k={writable:!0,value:(e,r,t,a)=>{switch(e){case!0:let n=[!r&&"missing email prefix",!t&&"missing @",!a&&"missing email domain"].filter(e=>!1!==e).join(", ");return"Check : ".concat(n);case!1:return"Valid email"}}},E={writable:!0,value:(e,r,t,a,n,i,l)=>{switch(e){case!0:let s=[!r&&"should consist of 8 to 30 characters",!t&&"missing an uppercase letter",!a&&"missing a lowercase letter",!n&&"missing an alphanumeric character",!i&&"missing a special character",!!l&&"contains prohibited character(s) : ".concat(l)].filter(e=>!1!==e).join(", ");return"Check : ".concat(s);case!1:return"Valid password"}}}},6962:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return C}});var a=t(4924),n=t(5893),i=t(7294),l=t(1163),s=t(5697),o=t.n(s),c=t(1379),u=t(3972),d=t(9397),p=t(1664),g=t.n(p),h=t(6400),x=t(1987),f=t(2012),m=t(3787),w=t(6341),v=t(2443),Z=t(3768);function b(e){let{state:r,eventsHandler:t,resetError:a}=e,i=(0,v.u)(),{username:l,password:s,joke:o}=r,{usernameHandler:p,passwordHandler:b,loginHandler:j}=t,{authLoading:y,authError:k}=(0,Z.ay)("auth");return(0,n.jsx)(c.Z,{children:(0,n.jsxs)(x.Z,{sx:{display:"flex",flexWrap:"wrap",gap:"10px",alignItems:"center",justifyContent:"center",flex:1,background:"inherit",flexWrap:"wrap-reverse"},children:[(0,n.jsxs)(u.Z,{variant:"h8",component:"h3",gutterBottom:!0,sx:{color:i.palette.text.disabled,textAlign:"center",paddingLeft:"20px",paddingRight:"20px",width:"50vw"},children:["`",o&&o.joke,"`"]}),(0,n.jsxs)(x.Z,{elevation:0,sx:{display:"grid",gridTemplateColumns:"1fr 20px",gridTemplateAreas:'"username icon1"\n            "password icon2"\n            "login ."\n            "forgot ."',alignItems:"stretch",gap:"10px",minWidth:"300px",width:"500px",borderRadius:"30px",padding:"40px",background:"inherit"},children:[(0,n.jsx)(m.Z,{label:"Username (email)",id:"username",size:"small",type:"text",fullwidth:"true",disabled:y,required:!0,color:l.color,helperText:l.helperText,value:l.value,error:l.error,onChange:p,sx:{gridArea:"username"}}),!l.error&&(0,n.jsx)(h.Z,{fontSize:"large",color:"success",sx:{gridArea:"icon1"}}),(0,n.jsx)(m.Z,{label:"Password",id:"userPassword",size:"small",type:"password",fullwidth:"true",disabled:y,required:!0,value:s.value,error:s.error,color:s.color,helperText:s.helperText,onChange:b,sx:{gridArea:"password"}}),!s.error&&(0,n.jsx)(h.Z,{fontSize:"large",color:"success",sx:{gridArea:"icon2"}}),r.username.error||r.password.error?(0,n.jsx)(d.Z,{disabled:!0,variant:"contained",id:"login",sx:{fontWeight:"bold",color:i.palette.primary.contrastText,gridArea:"login"},onClick:j,children:"LOGIN"}):(0,n.jsx)(w.Z,{variant:"contained",id:"login",disabled:y,isloading:y,sx:{fontWeight:"bold",color:i.palette.primary.contrastText,gridArea:"login"},handleClick:j,label:"LOGIN"}),(0,n.jsx)(g(),{href:"/recoverPassword",style:{gridArea:"forgot"},children:(0,n.jsx)(u.Z,{sx:{fontSize:"12px",textAlign:"center",marginTop:"-5px",color:i.palette.text.primary},children:"Forgot your password ?"})}),k&&(0,n.jsx)(f.Z,{message:k,closeHandler:a})]})]})})}b.propTypes={state:o().object,eventsHandler:o().func};var j=t(891),y=t(5323),k=t(866);let E={username:{error:!0,helperText:" ",value:"",color:"text"},password:{error:!0,helperText:" ",value:"",color:"text"},joke:void 0};var C=function(){let[e,r]=(0,i.useState)(E),{username:t,password:s}=e,o=(0,l.useRouter)(),{authUser:c,authLoading:u}=(0,Z.C0)("auth");class d{}(0,a.Z)(d,"usernameHandler",e=>{let{helperText:t,error:a,color:n}=y.Q.email(e.target.value);r(r=>({...r,username:{...r.username,value:e.target.value,error:a,helperText:t,color:n}}))}),(0,a.Z)(d,"passwordHandler",e=>{let{helperText:t,error:a,color:n}=y.Q.password(e.target.value);r(r=>({...r,password:{...r.password,value:e.target.value,error:a,helperText:t,color:n}}))}),(0,a.Z)(d,"loginHandler",()=>{(async()=>{r({...e,loading:!0,errorMessage:void 0}),(0,Z.cA)("auth",e=>({...e,authLoading:!0,authError:""}));let a=await k.Z.signIn(t.value,s.value),n=a.errorMessage;void 0!==n&&(0,Z.cA)("auth",e=>({...e,authLoading:!1,authError:n}))})()}),(0,i.useEffect)(()=>{(async()=>{let e=await (0,j.n)();r(r=>({...r,joke:e}))})()},[]),(0,i.useEffect)(()=>{!u&&c&&o.push("/contacts")},[o,c,u]);let p=()=>{(0,Z.cA)("auth",e=>({...e,authError:""}))};return(0,n.jsx)(b,{state:e,eventsHandler:d,resetError:p})}}},function(e){e.O(0,[58,101,368,963,333,774,888,179],function(){return e(e.s=2070)}),_N_E=e.O()}]);