(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{1969:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return i(6518)}])},8534:function(e,t,i){"use strict";i.d(t,{Z:function(){return x}});var r=i(5893),n=i(7294),a=i(1163),l=i(237),s=i(7357),d=i(3972),c=i(6489),u=i(5077),o=function(e){let{children:t}=e;return(0,r.jsx)(s.Z,{sx:{width:{sm:"600px"},backgroundColor:{xs:"none",sm:"rgba(255, 255, 255, 0.4)"},borderRadius:"8px",textAlign:"center",margin:"24px !important",padding:"24px",display:"grid",placeContent:"center"},children:t})},h=i(3367),p=function(e){let{authError:t}=e,i=(0,h.e6)("activeTheme");return(0,r.jsx)(u.Z,{children:(0,r.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",placeContent:"center",height:"100vh"},children:(0,r.jsxs)(o,{children:[(0,r.jsx)("span",{children:(0,r.jsx)(d.Z,{variant:"h6",color:"#000",children:"Loading..."})}),(0,r.jsx)("span",{children:(0,r.jsx)(c.Z,{color:"light"===i?"dark":"primary"})}),t&&(0,r.jsx)(d.Z,{variant:"label",color:"error",children:t})]})})})},x=function(e){return function(t){let i=(0,a.useRouter)(),{authLoading:s,authUser:d,authError:c}=(0,l.C0)("auth");return(0,n.useEffect)(()=>{s||null!==d||i.push("/login")},[d,s,i]),s?(0,r.jsx)(p,{}):d?(0,r.jsx)(e,{...t}):(0,r.jsx)(p,{authError:c})}}},9361:function(e,t,i){"use strict";i.d(t,{l:function(){return a}});var r=i(5893),n=i(8441);let a=()=>(0,r.jsx)(n.Z,{sx:{position:"fixed",width:"100%"}})},7488:function(e,t,i){"use strict";i.d(t,{q:function(){return c}});var r=i(2037),n=i(4924),a=i(7297),l=i(3247),s=i(9825);function d(){let e=(0,a.Z)(["(?<segment>[^/]+)"]);return d=function(){return e},e}class c{static async createDoc(e,t){switch(!0){case(0,r.Z)(this,c,h).call(c,e):{let i=(0,l.JU)(this.db,e),r=i.id;t.id&&delete t.id;let n=await (0,l.pl)(i,{...t,doc_id:r,date_created:(0,l.Bt)(),date_updated:(0,l.Bt)()});return n}case(0,r.Z)(this,c,o).call(c,e):{let i=(0,l.hJ)(this.db,e),r=(0,l.JU)(i),n=r.id;t.id&&delete t.id;let a=await (0,l.pl)(r,{...t,doc_id:n,date_created:(0,l.Bt)(),date_updated:(0,l.Bt)()});return a}}}static async readDoc(e){if(!(0,r.Z)(this,c,h).call(c,e))return;let t=(0,l.JU)(this.db,e),i=await (0,l.QT)(t),n=i.data();return n}static async readCol(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(!(0,r.Z)(this,c,o).call(c,e))return;let a=(0,l.hJ)(this.db,e),s=(0,l.IO)(a,...i),d=await (0,l.PL)(s),u=d.docs.map(e=>({...e.data()}));return u}static async readColGroup(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(1!==(0,r.Z)(this,c,u).call(c,e))return;let a=(0,l.B$)(this.db,e),s=(0,l.IO)(a,...i),d=await (0,l.PL)(s),o=d.docs.map(e=>({...e.data()}));return o}static async updateDoc(e,t){if(!(0,r.Z)(this,c,h).call(c,e))return;let i=(0,l.JU)(this.db,e),n=await (0,l.r7)(i,{...t,date_updated:(0,l.Bt)()});return n}static async deleteDoc(e){if(!(0,r.Z)(this,c,h).call(c,e))return;let t=(0,l.JU)(this.db,e),i=await (0,l.oe)(t);return i}static async subscribeDoc(e,t){if(!(0,r.Z)(this,c,h).call(c,e))return;let i=(0,l.JU)(this.db,e),n=(0,l.cf)(i,t);return n}static async subscribeCol(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),a=2;a<i;a++)n[a-2]=arguments[a];if(!(0,r.Z)(this,c,o).call(c,e))return;let s=(0,l.hJ)(this.db,e),d=(0,l.IO)(s,...n),u=(0,l.cf)(d,t);return u}}(0,n.Z)(c,"db",(0,l.ad)(s.H));var u={writable:!0,value:e=>{let t=e.match(RegExp(String.raw(d()),"gi")).length;return t}},o={writable:!0,value:e=>{let t=(0,r.Z)(c,c,u).call(c,e);return 0!==t&&t%2==1}},h={writable:!0,value:e=>{let t=(0,r.Z)(c,c,u).call(c,e);return 0!==t&&t%2==0}};(0,n.Z)(c,"generateDocId",e=>{let t=(0,l.JU)((0,l.hJ)(c.db,e));return t.id}),(0,n.Z)(c,"subscribeColGroup",async function(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),a=2;a<i;a++)n[a-2]=arguments[a];if(1!==(0,r.Z)(c,c,u).call(c,e))return;let s=(0,l.B$)(c.db,e),d=(0,l.IO)(s,...n),o=(0,l.cf)(d,t);return o})},6518:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return y}});var r=i(5893),n=i(8534),a=i(5077),l=i(9361),s=i(7488),d=i(1170),c=i(7357),u=i(1987),o=i(3972),h=i(7952),p=i(4799),x=i(2715),f=i(9397),g=i(5697),v=i.n(g),m=i(7294),Z=i(237);let b=()=>{var e,t,i,n,g,v,b,j;let y=null!==(i=null===(e=(0,Z.C0)("auth"))||void 0===e?void 0:null===(t=e.authUser)||void 0===t?void 0:t.uid)&&void 0!==i?i:"",{data:_,loading:C}=(0,Z.ay)("user"),[w,E]=(0,m.useState)(),[J,N]=(0,m.useState)(!1);(0,m.useEffect)(()=>{y&&s.q.subscribeDoc("users/".concat(y),async e=>{let t=e.data();(0,Z.Gt)("user",t),E(t)})},[y]);let k=e=>{let t=e.target.id,i=e.target.value;E(e=>({...e,[t]:i})),JSON.stringify(w)===JSON.stringify(_)?N(!1):N(!0)},P=()=>{},A=()=>{s.q.updateDoc("users/".concat(y),w),N(!1)};return(0,r.jsxs)(a.Z,{children:[C&&(0,r.jsx)(l.l,{}),(0,r.jsx)(c.Z,{sx:{flex:"1",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:"100%"},children:(0,r.jsxs)(u.Z,{sx:{display:"grid",gridTemplateColumns:"1fr auto",gap:"10px",alignItems:"center",padding:"30px",borderRadius:"20px",backgroundColor:"inherit",backdropFilter:"contrast(120%)"},children:[(0,r.jsx)(o.Z,{variant:"h5",sx:{gridColumn:"1/-1"},children:"my Profile"}),(0,r.jsxs)(c.Z,{sx:{aspectRatio:"1",gridColumn:"1/-1",position:"relative"},children:[(0,r.jsx)(h.Z,{src:null==w?void 0:w.profile_picture_url,alt:"profile_picture_url",sx:{width:"100%",height:"100%"},onClick:P}),(0,r.jsxs)(p.Z,{color:"primary","aria-label":"upload picture",component:"label",sx:{position:"absolute",bottom:"0",right:"0"},children:[(0,r.jsx)("input",{hidden:!0,accept:"image/*",type:"file"}),(0,r.jsx)(d.Z,{sx:{color:"black"}})]})]}),(0,r.jsx)(o.Z,{variant:"h7",children:"First Name"}),(0,r.jsx)(x.Z,{id:"first_name",size:"small",inputProps:{style:{height:"20px"}},value:null!==(n=null==w?void 0:w.first_name)&&void 0!==n?n:"",onChange:k}),(0,r.jsx)(o.Z,{variant:"h7",children:"Middle Name"}),(0,r.jsx)(x.Z,{id:"middle_name",size:"small",inputProps:{style:{height:"20px"}},value:null!==(g=null==w?void 0:w.middle_name)&&void 0!==g?g:"",onChange:k}),(0,r.jsx)(o.Z,{variant:"h7",children:"Last Name"}),(0,r.jsx)(x.Z,{id:"last_name",size:"small",inputProps:{style:{height:"20px"}},value:null!==(v=null==w?void 0:w.last_name)&&void 0!==v?v:"",onChange:k}),(0,r.jsx)(o.Z,{variant:"h7",children:"Email Address"}),(0,r.jsx)(x.Z,{id:"email_address",size:"small",inputProps:{style:{height:"20px"}},value:null!==(b=null==w?void 0:w.email_address)&&void 0!==b?b:"",onChange:k}),(0,r.jsx)(o.Z,{variant:"h7",children:"Phone Number"}),(0,r.jsx)(x.Z,{id:"phone_number",size:"small",inputProps:{style:{height:"20px"}},value:null!==(j=null==w?void 0:w.phone_number)&&void 0!==j?j:"",onChange:k}),J?(0,r.jsx)(f.Z,{variant:"contained",sx:{gridColumn:"1/-1",fontWeight:"bold"},onClick:A,children:"SAVE CHANGE"}):(0,r.jsx)(f.Z,{variant:"contained",disabled:!0,sx:{gridColumn:"1/-1",fontWeight:"bold"},children:"SAVE CHANGE"})]})})]})};b.propTypes={state:v().object,eventsHandler:v().func};let j=()=>(0,r.jsx)(b,{});var y=(0,n.Z)(j)}},function(e){e.O(0,[642,101,658,77,774,888,179],function(){return e(e.s=1969)}),_N_E=e.O()}]);