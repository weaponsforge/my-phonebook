(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{1969:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return r(6518)}])},8534:function(t,e,r){"use strict";r.d(e,{Z:function(){return x}});var i=r(5893),n=r(7294),a=r(1163),l=r(3768),s=r(7357),c=r(3972),u=r(6489),d=r(1379),o=function(t){let{children:e}=t;return(0,i.jsx)(s.Z,{sx:{width:{sm:"600px"},backgroundColor:{xs:"none",sm:"rgba(255, 255, 255, 0.4)"},borderRadius:"8px",textAlign:"center",margin:"24px !important",padding:"24px",display:"grid",placeContent:"center"},children:e})},h=r(3367),p=function(t){let{authError:e}=t,r=(0,h.e6)("activeTheme");return(0,i.jsx)(d.Z,{children:(0,i.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",placeContent:"center",height:"100vh"},children:(0,i.jsxs)(o,{children:[(0,i.jsx)("span",{children:(0,i.jsx)(c.Z,{variant:"h6",color:"#000",children:"Loading..."})}),(0,i.jsx)("span",{children:(0,i.jsx)(u.Z,{color:"light"===r?"dark":"primary"})}),e&&(0,i.jsx)(c.Z,{variant:"label",color:"error",children:e})]})})})},x=function(t){return function(e){let r=(0,a.useRouter)(),{authLoading:s,authUser:c,authError:u}=(0,l.C0)("auth");return(0,n.useEffect)(()=>{s||null!==c||r.push("/login")},[c,s,r]),s?(0,i.jsx)(p,{}):c?(0,i.jsx)(t,{...e}):(0,i.jsx)(p,{authError:u})}}},9361:function(t,e,r){"use strict";r.d(e,{l:function(){return a}});var i=r(5893),n=r(8441);let a=()=>(0,i.jsx)(n.Z,{sx:{position:"fixed",width:"100vw"}})},7488:function(t,e,r){"use strict";r.d(e,{q:function(){return u}});var i=r(2037),n=r(4924),a=r(7297),l=r(3247),s=r(9751);function c(){let t=(0,a.Z)(["(?<segment>[^/]+)"]);return c=function(){return t},t}class u{static async createDoc(t,e){switch(!0){case(0,i.Z)(this,u,h).call(u,t):{let r=(0,l.JU)(this.db,t),i=r.id,n=await (0,l.pl)(r,{...e,doc_id:i,date_created:(0,l.Bt)(),date_updated:(0,l.Bt)()});return n}case(0,i.Z)(this,u,o).call(u,t):{let r=(0,l.hJ)(this.db,t),i=(0,l.JU)(r),n=i.id,a=await (0,l.pl)(i,{...e,doc_id:n,date_created:(0,l.Bt)(),date_updated:(0,l.Bt)()});return a}}}static async readDoc(t){if(!(0,i.Z)(this,u,h).call(u,t))return;let e=(0,l.JU)(this.db,t),r=await (0,l.QT)(e),n=r.data();return n}static async readCol(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(!(0,i.Z)(this,u,o).call(u,t))return;let a=(0,l.hJ)(this.db,t),s=(0,l.IO)(a,...r),c=await (0,l.PL)(s),d=c.docs.map(t=>({...t.data()}));return d}static async readColGroup(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(1!==(0,i.Z)(this,u,d).call(u,t))return;let a=(0,l.B$)(this.db,t),s=(0,l.IO)(a,...r),c=await (0,l.PL)(s),o=c.docs.map(t=>({...t.data()}));return o}static async updateDoc(t,e){if(!(0,i.Z)(this,u,h).call(u,t))return;let r=(0,l.JU)(this.db,t),n=await (0,l.r7)(r,{...e,date_updated:(0,l.Bt)()});return n}static async deleteDoc(t){if(!(0,i.Z)(this,u,h).call(u,t))return;let e=(0,l.JU)(this.db,t),r=await (0,l.oe)(e);return r}static async subscribeDoc(t,e){if(!(0,i.Z)(this,u,h).call(u,t))return;let r=(0,l.JU)(this.db,t),n=(0,l.cf)(r,e);return n}static async subscribeCol(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];if(!(0,i.Z)(this,u,o).call(u,t))return;let s=(0,l.hJ)(this.db,t),c=(0,l.IO)(s,...n),d=(0,l.cf)(c,e);return d}}(0,n.Z)(u,"db",(0,l.ad)(s.H));var d={writable:!0,value:t=>{let e=t.match(RegExp(String.raw(c()),"gi")).length;return e}},o={writable:!0,value:t=>{let e=(0,i.Z)(u,u,d).call(u,t);return 0!==e&&e%2==1}},h={writable:!0,value:t=>{let e=(0,i.Z)(u,u,d).call(u,t);return 0!==e&&e%2==0}};(0,n.Z)(u,"subscribeColGroup",async function(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];if(1!==(0,i.Z)(u,u,d).call(u,t))return;let s=(0,l.B$)(u.db,t),c=(0,l.IO)(s,...n),o=(0,l.cf)(c,e);return o})},6518:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return y}});var i=r(5893),n=r(8534),a=r(1379),l=r(9361),s=r(7488),c=r(1170),u=r(7357),d=r(1987),o=r(3972),h=r(7952),p=r(4799),x=r(2715),f=r(9397),v=r(5697),g=r.n(v),m=r(7294),Z=r(3768);let b=()=>{var t,e,r,n,v,g,b,j;let y=null!==(r=null===(t=(0,Z.C0)("auth"))||void 0===t?void 0:null===(e=t.authUser)||void 0===e?void 0:e.uid)&&void 0!==r?r:"",{data:_,loading:C}=(0,Z.ay)("user"),[w,E]=(0,m.useState)(),[N,k]=(0,m.useState)(!1);(0,m.useEffect)(()=>{y&&s.q.subscribeDoc("users/".concat(y),async t=>{let e=t.data();(0,Z.Gt)("user",e),E(e)})},[y]);let J=t=>{let e=t.target.id,r=t.target.value;E(t=>({...t,[e]:r})),JSON.stringify(w)===JSON.stringify(_)?k(!1):k(!0)},P=()=>{},A=()=>{s.q.updateDoc("users/".concat(y),w),k(!1)};return(0,i.jsxs)(a.Z,{children:[C&&(0,i.jsx)(l.l,{}),(0,i.jsx)(u.Z,{sx:{flex:"1",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:"100%"},children:(0,i.jsxs)(d.Z,{elevation:6,sx:{display:"grid",gridTemplateColumns:"1fr auto",gap:"10px",alignItems:"center",padding:"30px",borderRadius:"20px",backgroundColor:"inherit",backdropFilter:"contrast(120%)"},children:[(0,i.jsx)(o.Z,{variant:"h5",sx:{gridColumn:"1/-1"},children:"my Profile"}),(0,i.jsxs)(u.Z,{sx:{aspectRatio:"1",gridColumn:"1/-1",position:"relative"},children:[(0,i.jsx)(h.Z,{src:null==w?void 0:w.profile_picture_url,alt:"profile_picture_url",sx:{width:"100%",height:"100%"},onClick:P}),(0,i.jsxs)(p.Z,{color:"primary","aria-label":"upload picture",component:"label",sx:{position:"absolute",bottom:"0",right:"0"},children:[(0,i.jsx)("input",{hidden:!0,accept:"image/*",type:"file"}),(0,i.jsx)(c.Z,{sx:{color:"black"}})]})]}),(0,i.jsx)(o.Z,{variant:"h7",children:"First Name"}),(0,i.jsx)(x.Z,{id:"first_name",size:"small",inputProps:{style:{height:"20px"}},value:null!==(n=null==w?void 0:w.first_name)&&void 0!==n?n:"",onChange:J}),(0,i.jsx)(o.Z,{variant:"h7",children:"Middle Name"}),(0,i.jsx)(x.Z,{id:"middle_name",size:"small",inputProps:{style:{height:"20px"}},value:null!==(v=null==w?void 0:w.middle_name)&&void 0!==v?v:"",onChange:J}),(0,i.jsx)(o.Z,{variant:"h7",children:"Last Name"}),(0,i.jsx)(x.Z,{id:"last_name",size:"small",inputProps:{style:{height:"20px"}},value:null!==(g=null==w?void 0:w.last_name)&&void 0!==g?g:"",onChange:J}),(0,i.jsx)(o.Z,{variant:"h7",children:"Email Address"}),(0,i.jsx)(x.Z,{id:"email_address",size:"small",inputProps:{style:{height:"20px"}},value:null!==(b=null==w?void 0:w.email_address)&&void 0!==b?b:"",onChange:J}),(0,i.jsx)(o.Z,{variant:"h7",children:"Phone Number"}),(0,i.jsx)(x.Z,{id:"phone_number",size:"small",inputProps:{style:{height:"20px"}},value:null!==(j=null==w?void 0:w.phone_number)&&void 0!==j?j:"",onChange:J}),N?(0,i.jsx)(f.Z,{variant:"contained",sx:{gridColumn:"1/-1",fontWeight:"bold"},onClick:A,children:"SAVE CHANGE"}):(0,i.jsx)(f.Z,{variant:"contained",disabled:!0,sx:{gridColumn:"1/-1",fontWeight:"bold"},children:"SAVE CHANGE"})]})})]})};b.propTypes={state:g().object,eventsHandler:g().func};let j=()=>(0,i.jsx)(b,{});var y=(0,n.Z)(j)}},function(t){t.O(0,[58,101,658,333,774,888,179],function(){return t(t.s=1969)}),_N_E=t.O()}]);