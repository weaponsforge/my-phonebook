(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{7952:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var a=r(3366),n=r(7462),i=r(7294),l=r(6010),s=r(4780),c=r(948),o=r(1657),d=r(2066),u=r(5893),h=(0,d.Z)((0,u.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),f=r(4801);let p=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],x=e=>{let{classes:t,variant:r,colorDefault:a}=e;return(0,s.Z)({root:["root",r,a&&"colorDefault"],img:["img"],fallback:["fallback"]},f.$,t)},m=(0,c.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>(0,n.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===t.variant&&{borderRadius:(e.vars||e).shape.borderRadius},"square"===t.variant&&{borderRadius:0},t.colorDefault&&(0,n.Z)({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===e.palette.mode?e.palette.grey[400]:e.palette.grey[600]}))),g=(0,c.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),v=(0,c.ZP)(h,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"}),Z=i.forwardRef(function(e,t){let r=(0,o.Z)({props:e,name:"MuiAvatar"}),{alt:s,children:c,className:d,component:h="div",imgProps:f,sizes:Z,src:w,srcSet:b,variant:j="circular"}=r,y=(0,a.Z)(r,p),_=null,C=function({crossOrigin:e,referrerPolicy:t,src:r,srcSet:a}){let[n,l]=i.useState(!1);return i.useEffect(()=>{if(!r&&!a)return;l(!1);let n=!0,i=new Image;return i.onload=()=>{n&&l("loaded")},i.onerror=()=>{n&&l("error")},i.crossOrigin=e,i.referrerPolicy=t,i.src=r,a&&(i.srcset=a),()=>{n=!1}},[e,t,r,a]),n}((0,n.Z)({},f,{src:w,srcSet:b})),k=w||b,S=k&&"error"!==C,D=(0,n.Z)({},r,{colorDefault:!S,component:h,variant:j}),I=x(D);return _=S?(0,u.jsx)(g,(0,n.Z)({alt:s,src:w,srcSet:b,sizes:Z,ownerState:D,className:I.img},f)):null!=c?c:k&&s?s[0]:(0,u.jsx)(v,{ownerState:D,className:I.fallback}),(0,u.jsx)(m,(0,n.Z)({as:h,ownerState:D,className:(0,l.Z)(I.root,d),ref:t},y,{children:_}))});var w=Z},4801:function(e,t,r){"use strict";r.d(t,{$:function(){return i}});var a=r(1588),n=r(4867);function i(e){return(0,n.Z)("MuiAvatar",e)}let l=(0,a.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);t.Z=l},8192:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contacts/edit/[doc_id]",function(){return r(4257)}])},8534:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var a=r(5893),n=r(7294),i=r(1163),l=r(3768),s=r(7357),c=r(3972),o=r(6489),d=r(1379),u=function(e){let{children:t}=e;return(0,a.jsx)(s.Z,{sx:{width:{sm:"600px"},backgroundColor:{xs:"none",sm:"rgba(255, 255, 255, 0.4)"},borderRadius:"8px",textAlign:"center",margin:"24px !important",padding:"24px",display:"grid",placeContent:"center"},children:t})},h=r(3367),f=function(e){let{authError:t}=e,r=(0,h.e6)("activeTheme");return(0,a.jsx)(d.Z,{children:(0,a.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",placeContent:"center",height:"100vh"},children:(0,a.jsxs)(u,{children:[(0,a.jsx)("span",{children:(0,a.jsx)(c.Z,{variant:"h6",color:"#000",children:"Loading..."})}),(0,a.jsx)("span",{children:(0,a.jsx)(o.Z,{color:"light"===r?"dark":"primary"})}),t&&(0,a.jsx)(c.Z,{variant:"label",color:"error",children:t})]})})})},p=function(e){return function(t){let r=(0,i.useRouter)(),{authLoading:s,authUser:c,authError:o}=(0,l.C0)("auth");return(0,n.useEffect)(()=>{s||null!==c||r.push("/login")},[c,s,r]),s?(0,a.jsx)(f,{}):c?(0,a.jsx)(e,{...t}):(0,a.jsx)(f,{authError:o})}}},7488:function(e,t,r){"use strict";r.d(t,{q:function(){return o}});var a=r(2037),n=r(4924),i=r(7297),l=r(3247),s=r(9751);function c(){let e=(0,i.Z)(["(?<segment>[^/]+)"]);return c=function(){return e},e}class o{static async createDoc(e,t){switch(!0){case(0,a.Z)(this,o,h).call(o,e):{let r=(0,l.JU)(this.db,e),a=r.id,n=await (0,l.pl)(r,{...t,doc_id:a,date_created:(0,l.Bt)(),date_updated:(0,l.Bt)()});return n}case(0,a.Z)(this,o,u).call(o,e):{let r=(0,l.hJ)(this.db,e),a=(0,l.JU)(r),n=a.id,i=await (0,l.pl)(a,{...t,doc_id:n,date_created:(0,l.Bt)(),date_updated:(0,l.Bt)()});return i}}}static async readDoc(e){if(!(0,a.Z)(this,o,h).call(o,e))return;let t=(0,l.JU)(this.db,e),r=await (0,l.QT)(t),n=r.data();return n}static async readCol(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!(0,a.Z)(this,o,u).call(o,e))return;let i=(0,l.hJ)(this.db,e),s=(0,l.IO)(i,...r),c=await (0,l.PL)(s),d=c.docs.map(e=>({...e.data()}));return d}static async readColGroup(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(1!==(0,a.Z)(this,o,d).call(o,e))return;let i=(0,l.B$)(this.db,e),s=(0,l.IO)(i,...r),c=await (0,l.PL)(s),u=c.docs.map(e=>({...e.data()}));return u}static async updateDoc(e,t){if(!(0,a.Z)(this,o,h).call(o,e))return;let r=(0,l.JU)(this.db,e),n=await (0,l.r7)(r,{...t,date_updated:(0,l.Bt)()});return n}static async deleteDoc(e){if(!(0,a.Z)(this,o,h).call(o,e))return;let t=(0,l.JU)(this.db,e),r=await (0,l.oe)(t);return r}static async subscribeDoc(e,t){if(!(0,a.Z)(this,o,h).call(o,e))return;let r=(0,l.JU)(this.db,e),n=(0,l.cf)(r,t);return n}static async subscribeCol(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(!(0,a.Z)(this,o,u).call(o,e))return;let s=(0,l.hJ)(this.db,e),c=(0,l.IO)(s,...n),d=(0,l.cf)(c,t);return d}}(0,n.Z)(o,"db",(0,l.ad)(s.H));var d={writable:!0,value:e=>{let t=e.match(RegExp(String.raw(c()),"gi")).length;return t}},u={writable:!0,value:e=>{let t=(0,a.Z)(o,o,d).call(o,e);return 0!==t&&t%2==1}},h={writable:!0,value:e=>{let t=(0,a.Z)(o,o,d).call(o,e);return 0!==t&&t%2==0}};(0,n.Z)(o,"subscribeColGroup",async function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(1!==(0,a.Z)(o,o,d).call(o,e))return;let s=(0,l.B$)(o.db,e),c=(0,l.IO)(s,...n),u=(0,l.cf)(c,t);return u})},4257:function(e,t,r){"use strict";r.r(t);var a=r(5893),n=r(8534),i=r(1379),l=r(7488),s=r(7357),c=r(3972),o=r(7952),d=r(2715),u=r(9397),h=r(1163),f=r(7294),p=r(3768);let x={sorting:"",first_name:"",middle_name:"",last_name:"",phone_number:"",email_address:"",profile_picture_url:""},m=()=>{let e=(0,h.useRouter)(),{doc_id:t}=e.query,{authUser:r}=(0,p.C0)("auth"),n=(0,p.ay)("contacts"),m=n.data.filter(e=>e.doc_id===t)[0],[g,v]=(0,f.useState)(null!=m?m:x),[Z,w]=(0,f.useState)(!1);(0,f.useEffect)(()=>{v(m)},[m]);let b=e=>{let t=e.target.id,r=e.target.value,a={...g,[t]:r};v(a),JSON.stringify(a)===JSON.stringify(m[0])?w(!1):w(!0)},j=()=>{let a={...g,sorting:"".concat(g.first_name).concat(g.middle_name).concat(g.last_name).toUpperCase()};l.q.updateDoc("users/".concat(r.uid,"/contacts/").concat(t),a),e.push("/contacts")},y=()=>{l.q.deleteDoc("users/".concat(r.uid,"/contacts/").concat(t)),v(x),e.push("/contacts")};return(0,a.jsx)(i.Z,{children:(0,a.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center",gap:"10px",width:"100%",height:"auto",padding:"20px"},children:(0,a.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[(0,a.jsx)(c.Z,{variant:"h4",sx:{alignSelf:"start"},children:"Edit Contact"}),(0,a.jsx)(o.Z,{sx:{width:"50vw",maxWidth:"200px",maxHeight:"200px",height:"50vw",justifySelf:"center",gridColumn:"1/-1",border:"5px dashed gray",margin:"10px",src:"".concat(null==g?void 0:g.profile_picture_url)}}),(0,a.jsxs)(s.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"10px",width:"100%"},children:[(0,a.jsx)(c.Z,{variant:"h8",children:"First Name :"}),(0,a.jsx)(d.Z,{id:"first_name",value:null==g?void 0:g.first_name,size:"small",sx:{width:"100%"},onChange:b})]}),(0,a.jsxs)(s.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"10px",width:"100%"},children:[(0,a.jsx)(c.Z,{variant:"h8",children:"Middle Name :"}),(0,a.jsx)(d.Z,{id:"middle_name",value:null==g?void 0:g.middle_name,size:"small",sx:{width:"100%"},onChange:b})]}),(0,a.jsxs)(s.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"10px",width:"100%"},children:[(0,a.jsx)(c.Z,{variant:"h8",children:"Last Name:"}),(0,a.jsx)(d.Z,{id:"last_name",value:null==g?void 0:g.last_name,size:"small",sx:{width:"100%"},onChange:b})]}),(0,a.jsxs)(s.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"10px",width:"100%"},children:[(0,a.jsx)(c.Z,{variant:"h8",children:"Phone Number:"}),(0,a.jsx)(d.Z,{id:"phone_number",value:null==g?void 0:g.phone_number,size:"small",sx:{width:"100%"},onChange:b})]}),(0,a.jsxs)(s.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"10px",width:"100%"},children:[(0,a.jsx)(c.Z,{variant:"h8",children:"Email Address:"}),(0,a.jsx)(d.Z,{id:"email_address",value:null==g?void 0:g.email_address,size:"small",sx:{width:"100%"},onChange:b})]}),(0,a.jsx)(u.Z,{variant:"contained",fullWidth:!0,disabled:!Z,onClick:j,children:"Save"}),(0,a.jsx)(u.Z,{variant:"contained",fullWidth:!0,onClick:y,children:"Delete"})]})})})};t.default=(0,n.Z)(m)}},function(e){e.O(0,[58,101,333,774,888,179],function(){return e(e.s=8192)}),_N_E=e.O()}]);